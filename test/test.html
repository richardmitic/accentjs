<html>
  <head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="./test.css">
    <script src="../build/accent.js"></script>
    <script>
      var accent =  window.Accent;
    
      function test(id, item, randFunc, randArrayFunc) {
        var div = document.getElementById(id);
        var cs = div.querySelector(".cs");
        var rand = div.querySelector(".randchar");
        var randstr = div.querySelector(".randstring");
        cs.innerHTML = item.join(' ');
        rand.innerHTML = accent.randomChar(item);
        randstr.innerHTML = accent.randomCharArray(item, 16).join('');
      }
      
      function test_combining_marks() {
        var div = document.getElementById("cs-combining-marks");
        var cs = div.querySelector(".cs");
        var original_char = accent.randomChar(accent.latin.BasicLatin);
        var accented_chars = [];
        var accent_set = accent.combiningMarks.CombiningDiacriticalMarks;
        for (var i = 0; i < accent_set.length; i++) {
          var new_c = original_char+accent_set[i];
          accented_chars.push(new_c);
        }
        cs.innerHTML = accented_chars.join(' ');
        
        var rand = div.querySelector(".randchar");
        var randstr = div.querySelector(".randstring");
        rand.innerHTML = accent.alternativeComboChar("Z", accent_set);
        randstr.innerHTML = accent.alternativeComboString("Mississippi", accent_set);
      }

      document.addEventListener("DOMContentLoaded", function(event) {
        test("cs-basic-latin", accent.latin.BasicLatin);
        test("cs-latin-1-supplement", accent.latin.Latin1Supplement);
        test("cs-latin-extended-a", accent.latin.LatinExtendedA);
        test("cs-latin-extended-b", accent.latin.LatinExtendedB);
        test("cs-latin-extended-c", accent.latin.LatinExtendedC);
        test("cs-latin-extended-d", accent.latin.LatinExtendedD);
        test("cs-latin-extended-e", accent.latin.LatinExtendedE);
        test("cs-latin-extended-additional", accent.latin.LatinExtendedAdditional);
        test("cs-ipa-extensions", accent.latin.IPAExtensions);
        test("cs-phonetic-extensions", accent.latin.PhoneticExtensions);
        test("cs-phonetic-extensions-supplement", accent.latin.PhoneticExtensionsSupplement);
        
        var p = document.getElementById("accented-string");
        var new_text = accent.alternativeString(p.innerHTML);
        p.innerHTML = new_text;
        
        test_combining_marks();
      });
    </script>
  </head>
  <body>
    <div class="script-set">
      <p class="script-set-header">Replacement</p>
      <div class="character-set">
        <p class="cs" id="accented-string">ABCDEFGHIJKLMNOPQRSTUVWXYZ abcdefghijklmnopqrstuvwxyz</p>
      </div>
    </div>
    
    <div class="script-set">
      <p class="script-set-header">Combining marks</p>
      <div class="character-set" id="cs-combining-marks">
        <p class="cs-header">Random letter with accents</p>
        <p class="cs double-line-spacing">Error</p>
        <p class="rand"><span>Random:</span><span class="randchar"></span><span class="randstring"></span></p>
      </div>
    </div>
    
    <div class="script-set">
      <p class="script-set-header">Latin</p>
      <div class="character-set" id="cs-basic-latin">
        <p class="cs-header">Basic Latin</p>
        <p class="cs">Error</p>
        <p class="rand"><span>Random:</span><span class="randchar"></span><span class="randstring"></span></p>
      </div>
      <div class="character-set" id="cs-latin-1-supplement">
        <p class="cs-header">Latin-1 Supplement</p>
        <p class="cs">Error</p>
        <p class="rand"><span>Random:</span><span class="randchar"></span><span class="randstring"></span></p>
      </div>
      <div class="character-set" id="cs-latin-extended-a">
        <p class="cs-header">Latin Extended-A</p>
        <p class="cs">Error</p>
        <p class="rand"><span>Random:</span><span class="randchar"></span><span class="randstring"></span></p>
      </div>
      <div class="character-set" id="cs-latin-extended-b">
        <p class="cs-header">Latin Extended-B</p>
        <p class="cs">Error</p>
        <p class="rand"><span>Random:</span><span class="randchar"></span><span class="randstring"></span></p>
      </div>
      <div class="character-set" id="cs-latin-extended-c">
        <p class="cs-header">Latin Extended-C</p>
        <p class="cs">Error</p>
        <p class="rand"><span>Random:</span><span class="randchar"></span><span class="randstring"></span></p>
      </div>
      <div class="character-set" id="cs-latin-extended-d">
        <p class="cs-header">Latin Extended-D</p>
        <p class="cs">Error</p>
        <p class="rand"><span>Random:</span><span class="randchar"></span><span class="randstring"></span></p>
      </div>
      <div class="character-set" id="cs-latin-extended-e">
        <p class="cs-header">Latin Extended-E</p>
        <p class="cs">Error</p>
        <p class="rand"><span>Random:</span><span class="randchar"></span><span class="randstring"></span></p>
      </div>
      <div class="character-set" id="cs-latin-extended-additional">
        <p class="cs-header">Latin Extended Additional</p>
        <p class="cs">Error</p>
        <p class="rand"><span>Random:</span><span class="randchar"></span><span class="randstring"></span></p>
      </div>
      <div class="character-set" id="cs-ipa-extensions">
        <p class="cs-header">IPA Extensions</p>
        <p class="cs">Error</p>
        <p class="rand"><span>Random:</span><span class="randchar"></span><span class="randstring"></span></p>
      </div>
      <div class="character-set" id="cs-phonetic-extensions">
        <p class="cs-header">Phonetic Extensions</p>
        <p class="cs">Error</p>
        <p class="rand"><span>Random:</span><span class="randchar"></span><span class="randstring"></span></p>
      </div>
      <div class="character-set" id="cs-phonetic-extensions-supplement">
        <p class="cs-header">Phonetic Extensions Supplement</p>
        <p class="cs">Error</p>
        <p class="rand"><span>Random:</span><span class="randchar"></span><span class="randstring"></span></p>
      </div>
    </div>
    
  </body>
</html>